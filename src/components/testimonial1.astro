---
const testimonials = [
  {
    name: "Jared Smith",
    role: "Product Designer",
    image: "https://images.unsplash.com/photo-1527082395-e939b847da0d?auto=format&fit=crop&w=1180&q=80",
    quote: "WickedBlocks has been a game-changer for my projects. The components are top-notch and easy to integrate. Highly recommended!"
  },
  {
    name: "Samantha Lee",
    role: "Front-end Developer",
    image: "https://images.unsplash.com/photo-1502685104226-ee32379fefbe?auto=format&fit=crop&w=1180&q=80",
    quote: "I love using WickedBlocks! The variety and quality of components have significantly sped up my workflow."
  },
  {
    name: "Michael Brown",
    role: "Software Engineer",
    image: "https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=1180&q=80",
    quote: "WickedBlocks has transformed how I build web interfaces. The components are intuitive and save me a lot of time."
  }
];
---

<style>
.carousel {
  position: relative;
  overflow: hidden;
  max-width: 900px;
  margin: auto;
}

.carousel-track {
  display: flex;
  transition: transform 0.5s ease-in-out;
}

.carousel-card {
  flex: 0 0 100%;
  box-sizing: border-box;
  padding: 1rem;
}

.carousel-buttons {
  position: absolute;
  top: 50%;
  width: 100%;
  display: flex;
  justify-content: space-between;
  transform: translateY(-50%);
}

button {
  background: rgba(255,255,255,0.7);
  border: none;
  padding: 0.5rem 1rem;
  cursor: pointer;
  font-weight: bold;
}
</style>

<section class="py-16 bg-gradient-to-br from-gray-50 to-white">
  <div class="text-center mb-12">
    <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
      What Our Clients Say
    </h2>
    <p class="text-lg text-gray-600 max-w-2xl mx-auto">
      Don't just take our word for it - hear from the amazing people we've worked with
    </p>
  </div>

  <div class="carousel">
    <div class="carousel-track" id="track">
      {testimonials.map((t) => (
        <div class="carousel-card bg-white rounded-xl shadow-lg">
          <div class="p-6">
            <div class="flex flex-col md:flex-row items-center md:items-start gap-6 md:gap-10">
                <div class="flex flex-col items-center md:items-center flex-shrink-0">
                  <img src={t.image} alt={t.name} class="w-28 h-28 md:w-36 md:h-36 rounded-full object-cover shadow-lg ring-4 ring-amber-200 mb-3" />
                  <h3 class="text-xl font-bold text-center">{t.name}</h3>
                  <p class="text-amber-600 text-center">{t.role}</p>
                </div>
                <div class="flex-1 flex items-center md:items-start min-w-0">
                  <p class="mb-0 text-lg italic text-center md:text-left break-words w-full" style="word-break:break-word;">"{t.quote}"</p>
                </div>
            </div>
          </div>
        </div>
      ))}
    </div>

    <div class="carousel-buttons">
      <button id="prev">❮</button>
      <button id="next">❯</button>
    </div>
  </div>
</section>

<script>
let index = 0;
let track, cards, total;

function updateCarousel() {
  if (!track) return;
  track.style.transform = `translateX(-${index * 100}%)`;
}

function next() {
  index = (index + 1) % total;
  updateCarousel();
}

function prev() {
  index = (index - 1 + total) % total;
  updateCarousel();
}

window.addEventListener('DOMContentLoaded', () => {
  track = document.getElementById('track');
  cards = document.querySelectorAll('.carousel-card');
  total = cards.length;
  updateCarousel();
  document.getElementById('next').addEventListener('click', next);
  document.getElementById('prev').addEventListener('click', prev);
  setInterval(next, 5000); // Auto-rotate every 5 seconds
});
</script>
